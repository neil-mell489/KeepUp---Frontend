{"ast":null,"code":"var _jsxFileName = \"/Users/neilmellstrom/Desktop/code/projects/project-4/KeepUp/KeepUp---Frontend/src/components/EventForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EventForm = ({\n  setShowEventForm,\n  event,\n  onSubmit,\n  user\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    eventName: event ? event.eventName : '',\n    description: event ? event.description : '',\n    date: event ? event.date : '',\n    time: event ? event.time : ''\n  });\n  const {\n    id\n  } = useParams();\n  const URL = process.env.REACT_APP_URL;\n  useEffect(() => {\n    // Update form data when the event prop changes\n    if (event) {\n      setFormData({\n        eventName: event.eventName,\n        description: event.description,\n        date: event.date,\n        time: event.time\n      });\n    }\n  }, [event]);\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch(event ? `${URL}/api/events/${event._id}` : `${URL}/api/events`, {\n        method: event ? 'PUT' : 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...formData,\n          createdBy: id\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to ${event ? 'edit' : 'create'} event: ${response.statusText}`);\n      }\n      // If successful, close the form\n      setShowEventForm(false);\n      console.log(`${event ? 'Event edited' : 'Event created'} successfully!`);\n      // Call the onSubmit function passed from the parent component to handle updates in the parent component\n      onSubmit();\n    } catch (error) {\n      console.error(`Failed to ${event ? 'edit' : 'create'} event:`, error.message);\n    }\n  };\n\n  // Function to handle cancel button click\n  const handleCancel = () => {\n    window.location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-violet-300 flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold pb-5 pt-5\",\n      children: event ? 'Edit Event' : 'Create Event'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"eventName\",\n          value: formData.eventName,\n          onChange: handleChange,\n          placeholder: \"Enter Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"description\",\n          value: formData.description,\n          onChange: handleChange,\n          placeholder: \"Enter Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Date \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"date\",\n          value: formData.date,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Time: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"time\",\n          name: \"time\",\n          value: formData.time,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-violet-500 hover:bg-violet-600 text-white p-2 rounded-md m-3\",\n          children: [event ? 'Edit' : 'Create', \" Event\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCancel,\n            className: \"bg-violet-500 hover:bg-violet-600 text-white p-2 rounded-md m-3\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(EventForm, \"kpEibfCufh/Wf8T0Tuxm4zCgMy0=\", false, function () {\n  return [useParams];\n});\n_c = EventForm;\nexport default EventForm;\nvar _c;\n$RefreshReg$(_c, \"EventForm\");","map":{"version":3,"names":["React","useState","useEffect","useParams","jsxDEV","_jsxDEV","EventForm","setShowEventForm","event","onSubmit","user","_s","formData","setFormData","eventName","description","date","time","id","URL","process","env","REACT_APP_URL","handleChange","e","target","name","value","handleSubmit","preventDefault","response","fetch","_id","method","headers","body","JSON","stringify","createdBy","ok","Error","statusText","console","log","error","message","handleCancel","window","location","reload","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/neilmellstrom/Desktop/code/projects/project-4/KeepUp/KeepUp---Frontend/src/components/EventForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst EventForm = ({ setShowEventForm, event, onSubmit, user }) => {\n  const [formData, setFormData] = useState({\n    eventName: event ? event.eventName : '',\n    description: event ? event.description : '',\n    date: event ? event.date : '',\n    time: event ? event.time : '',\n  });\n  const { id } = useParams();\n  const URL = process.env.REACT_APP_URL;\n\n  useEffect(() => {\n    // Update form data when the event prop changes\n    if (event) {\n      setFormData({\n        eventName: event.eventName,\n        description: event.description,\n        date: event.date,\n        time: event.time,\n      });\n    }\n  }, [event]);\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch(\n        event\n          ? `${URL}/api/events/${event._id}`\n          : `${URL}/api/events`,\n        {\n          method: event ? 'PUT' : 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ ...formData, createdBy: id }),\n        }\n      );\n      if (!response.ok) {\n        throw new Error(\n          `Failed to ${event ? 'edit' : 'create'} event: ${response.statusText}`\n        );\n      }\n      // If successful, close the form\n      setShowEventForm(false);\n      console.log(`${event ? 'Event edited' : 'Event created'} successfully!`);\n      // Call the onSubmit function passed from the parent component to handle updates in the parent component\n      onSubmit();\n    } catch (error) {\n      console.error(`Failed to ${event ? 'edit' : 'create'} event:`, error.message);\n    }\n  };\n\n  // Function to handle cancel button click\n  const handleCancel = () => {\n    window.location.reload();\n  };\n\n  return (\n    <div className=\"bg-violet-300 flex flex-col items-center\">\n      <h2 className=\"text-xl font-semibold pb-5 pt-5\">\n        {event ? 'Edit Event' : 'Create Event'}\n      </h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"pb-4\">\n          <label>Title: </label>\n          <input\n            type=\"text\"\n            name=\"eventName\"\n            value={formData.eventName}\n            onChange={handleChange}\n            placeholder=\"Enter Title\"\n          />\n        </div>\n        <div className=\"pb-4\">\n          <label>Description: </label>\n          <input\n            type=\"text\"\n            name=\"description\"\n            value={formData.description}\n            onChange={handleChange}\n            placeholder=\"Enter Description\"\n          />\n        </div>\n        <div className=\"pb-4\">\n          <label>Date </label>\n          <input type=\"date\" name=\"date\" value={formData.date} onChange={handleChange} />\n        </div>\n        <div className=\"pb-4\">\n          <label>Time: </label>\n          <input type=\"time\" name=\"time\" value={formData.time} onChange={handleChange} />\n        </div>\n        <div className=\"flex justify-center\">\n          <button\n            type=\"submit\"\n            className=\"bg-violet-500 hover:bg-violet-600 text-white p-2 rounded-md m-3\"\n          >\n            {event ? 'Edit' : 'Create'} Event\n          </button>\n        <div>\n          <button onClick={handleCancel} className=\"bg-violet-500 hover:bg-violet-600 text-white p-2 rounded-md m-3\">Cancel</button>\n        </div>          \n        </div>\n\n      </form>\n      {/* View button */}\n      {/* <button className=\"view-button\" onClick={handleViewEvent}>View Event</button> */}\n    </div>\n  );\n};\n\nexport default EventForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}